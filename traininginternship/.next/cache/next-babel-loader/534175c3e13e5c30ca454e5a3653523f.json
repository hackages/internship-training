{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nvar _jsxFileName = \"/Users/jawad/Desktop/trainings/internship-training/traininginternship/src/pages/Details/[id].js\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Loading from '../../shared/Loading';\nimport ReactMarkdown from 'react-markdown';\nimport fakeData from '../../fakeData.json';\nimport { Store } from \"../../core/redux/store\";\nimport Link from 'next/link';\nimport { useRouter } from \"next/router\";\nimport { StoreProvider } from \"../../core/redux/store\";\n\nconst getLessonById = id => new _Promise(res => {\n  setTimeout(() => {\n    res(fakeData.find(d => d.id === id));\n  }, 5000);\n});\n\nconst Details = props => {\n  const router = useRouter();\n  const {\n    state,\n    dispatch\n  } = React.useContext(Store);\n  console.log(router.query);\n  const id = router.query.id;\n  let training = undefined;\n\n  function redirection() {\n    return window.location = \"\".concat(process.env.REACT_APP_URL_BASE_PAYMENT, \"?id=\").concat(id, \"&redirectTo=https%3A%2F%2Fdev.community.hackages.io%2Factivity%2Fevent%2F\").concat(id);\n  }\n\n  useEffect(() => {\n    getLessonById(id).then(data => {\n      training = data;\n      dispatch({\n        type: \"ADD_TRAINING\",\n        payload: training\n      });\n    });\n  }, [id, training]);\n  const trainings = state.trainings;\n  training = trainings.find(t => t.id === id);\n\n  if (training) {\n    const days = training.dates.map((date, index) => {\n      if (index === 0) {\n        return \"From \" + date + \" \";\n      } else if (index === training.dates.length - 1) {\n        return \"to \" + date;\n      }\n\n      return \"\";\n    });\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, __jsx(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Details\"), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, id), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Title : \", training.title), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Date : \", training.dates[0]), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"days : \", training.dates.length), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, days), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Price : \", training.price + ' €', \" / day \"), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Language : \", training.topics[0].name), __jsx(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, __jsx(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \" Description \"), __jsx(ReactMarkdown, {\n      source: training.activity.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), __jsx(Button, {\n      onClick: redirection,\n      variant: \"outlined\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Buy your training\"));\n  } else {\n    return __jsx(React.Fragment, null, __jsx(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }));\n  }\n};\n\nexport default Details;","map":{"version":3,"sources":["/Users/jawad/Desktop/trainings/internship-training/traininginternship/src/pages/Details/[id].js"],"names":["React","useEffect","Button","Loading","ReactMarkdown","fakeData","Store","Link","useRouter","StoreProvider","getLessonById","id","res","setTimeout","find","d","Details","props","router","state","dispatch","useContext","console","log","query","training","undefined","redirection","window","location","process","env","REACT_APP_URL_BASE_PAYMENT","then","data","type","payload","trainings","t","days","dates","map","date","index","length","title","price","topics","name","activity","description"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Loading from '../../shared/Loading';\nimport ReactMarkdown from 'react-markdown';\nimport fakeData from '../../fakeData.json';\nimport {Store} from \"../../core/redux/store\";\nimport Link from 'next/link'\nimport {useRouter} from \"next/router\";\nimport {StoreProvider} from \"../../core/redux/store\";\n\n\n\nconst getLessonById = (id) => new Promise(res => {\n    setTimeout(() => {\n        res(fakeData.find(d => d.id === id))\n    }, 5000)\n});\n\nconst Details = (props) => {\n    const router = useRouter();\n    const {state, dispatch} = React.useContext(Store);\n    console.log(router.query);\n    const id = router.query.id\n\n    let training = undefined;\n\n    function redirection() {\n        return window.location = `${process.env.REACT_APP_URL_BASE_PAYMENT}?id=${id}&redirectTo=https%3A%2F%2Fdev.community.hackages.io%2Factivity%2Fevent%2F${id}`\n    }\n\n    useEffect(() => {\n        getLessonById(id).then(\n            (data) => {\n                training = data;\n                dispatch({type: \"ADD_TRAINING\", payload: training})\n            }\n        );\n\n    }, [id, training]);\n\n    const trainings = state.trainings;\n    training = trainings.find(t => t.id === id);\n\n    if (training) {\n\n        const days = training.dates.map(\n            (date, index) => {\n                if (index === 0) {\n                    return \"From \" + date + \" \";\n                } else if (index === training.dates.length - 1) {\n                    return \"to \" + date;\n                }\n\n                return \"\";\n\n            });\n\n        return (\n            <div>\n                <h1>Details</h1>\n                <p>{id}</p>\n                <p>Title : {training.title}</p>\n                <p>Date : {training.dates[0]}</p>\n                <p>days : {training.dates.length}</p>\n                <p>{days}</p>\n                <p>Price : {(training.price) + ' €'} / day </p>\n                <p>Language : {training.topics[0].name}</p>\n\n                <section>\n                    <h2> Description </h2>\n                    <ReactMarkdown source={training.activity.description}/>\n                </section>\n\n                <Button\n                    onClick={redirection} variant=\"outlined\" color=\"primary\">\n                    Buy your training\n                </Button>\n\n\n            </div>\n        );\n    } else {\n        return (\n            <>\n                <Loading></Loading>\n            </>\n        )\n    }\n};\n\n\nexport default Details;\n"]},"metadata":{},"sourceType":"module"}
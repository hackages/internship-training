{"version":3,"file":"static/webpack/static/development/pages/Details/[id].js.5f9255904b492385b150.hot-update.js","sources":["webpack:///./src/pages/Details/.js"],"sourcesContent":["import React, {useEffect} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Loading from '../../shared/Loading';\nimport ReactMarkdown from 'react-markdown';\nimport fakeData from '../../fakeData.json';\nimport {Store} from \"../../core/redux/store\";\nimport Link from 'next/link'\nimport {useRouter} from \"next/router\";\nimport {StoreProvider} from \"../../core/redux/store\";\n\n\n\nconst getLessonById = (id) => new Promise(res => {\n    setTimeout(() => {\n        res(fakeData.find(d => d.id == id))\n    }, 1000)\n});\n\nconst Details = (props) => {\n    const router = useRouter();\n    const {state, dispatch} = React.useContext(Store);\n    const id = router.query.id;\n    let training = undefined;\n\n    function redirection() {\n        return window.location = `${process.env.REACT_APP_URL_BASE_PAYMENT}?id=${id}&redirectTo=https%3A%2F%2Fdev.community.hackages.io%2Factivity%2Fevent%2F${id}`\n    }\n\n   // useEffect(() => {\n    //        dispatch( {type: \"ADD_TRAINING\", payload: trainings});\n   // }, []);\n\n    useEffect(() => {\n        getLessonById(id).then(\n            (data) => {\n                if(data) {\n                    training = data;\n                    dispatch({type: \"ADD_TRAINING\", payload: training})\n                }\n            }\n        );\n\n    }, [id, training]);\n\n    const trainings = state.trainings;\n\n    if(!trainings){\n        training = trainings.find(t => t.id === id);\n    }\n\n    console.log(training)\n\n\n    if (training) {\n\n        const days = training.dates.map(\n            (date, index) => {\n                if (index === 0) {\n                    return \"From \" + date + \" \";\n                } else if (index === training.dates.length - 1) {\n                    return \"to \" + date;\n                }\n\n                return \"\";\n\n            });\n\n        return (\n            <div>\n                <h1>Details</h1>\n                <p>{id}</p>\n                <p>Title : {training.title}</p>\n                <p>Date : {training.dates[0]}</p>\n                <p>days : {training.dates.length}</p>\n                <p>{days}</p>\n                <p>Price : {(training.price) + ' â‚¬'} / day </p>\n                <p>Language : {training.topics[0].name}</p>\n\n                <section>\n                    <h2> Description </h2>\n                    <ReactMarkdown source={training.activity.description}/>\n                </section>\n\n                <Button\n                    onClick={redirection} variant=\"outlined\" color=\"primary\">\n                    Buy your training\n                </Button>\n\n\n            </div>\n        );\n    } else {\n        return (\n            <>\n                <Loading></Loading>\n            </>\n        )\n    }\n};\n\n\nexport default Details;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;;;;;A","sourceRoot":""}